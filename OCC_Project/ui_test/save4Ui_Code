def __init__(self):
    self.disk = disk_design_dialog.Ui_Dialog()
    self.Dialog = QDialog()
    self.disk.setupUi(self.Dialog)
    self.disk.buttonBox.accepted.connect(self.sendmsg)
    self.disk.buttonBox.rejected.connect(self.Dialog.rejected)






MainWindow.canva = qtViewer3d(self.centralwidget)
MainWindow.canva.resize(735, 550)
MainWindow.canva.move(330, 140)
MainWindow.canva.setSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)

# 显示设置
MainWindow.canva.InitDriver()  # canva的驱动,设置驱动后，才能成功display

self.display = MainWindow.canva._display

rgb_list1 = [206, 215, 222]
rgb_list2 = [128, 128, 128]

self.display.set_bg_gradient_color(rgb_list1, rgb_list2)  # 设置背景渐变色
self.display.display_triedron()  # display black trihedron

#setAction
self.pushButton_4.clicked.connect(self.showElliptical)
self.pushButton_3.clicked.connect(self.design_Cylinder)


def showElliptical(self):
    Elli = Elliptical.Elliptical_Head()
    A = Elli.getElliptical_Head()
    self.display.EraseAll()
    self.display.ResetView()
    self.display.DisplayShape(A.Shape(), update=True)


def design_disk(self):
    disk = disk_design_dialog.Ui_Dialog()
    Dialog = QDialog()
    disk.setupUi(Dialog)
    Dialog.show()
    Dialog.exec_()


def showElliptical(self):
    Elli = Elliptical.Elliptical_Head()
    A = Elli.getElliptical_Head()
    self.display.EraseAll()
    self.display.ResetView()
    self.display.DisplayShape(A.Shape(), update=True)


def design_Cylinder(self):
    self.Dialog.show()
    self.Dialog.exec_()


def sendmsg(self):
    R = float(self.disk.lineEdit_3.text())
    t = float(self.disk.lineEdit_7.text())
    L = float(self.disk.lineEdit_4.text())

    C = cylinder.Cylinder(R, t, L)
    self.display.EraseAll()
    self.display.ResetView()
    self.display.DisplayShape(C.new_thing1, update=True)